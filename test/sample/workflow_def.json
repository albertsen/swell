{
    "id": "fulfilorderx",
    "description": "Example order fulfilment process",
    "action_handlers": {
        "start": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=CREATED&event=started"
        },
        "checkOrder": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=CHECKED&event=orderChecked"
        },
        "capturePayment": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=PAYMENT_CAPTURED&event=paymentCaptured"
        },
        "prepareShipment": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=SHIPMENT_PREPARED&event=shipmentPrepared"
        },
        "ship": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=SHIPPED&event=shipped"
        },
        "error": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=ERROR&event=error"
        },
        "done": {
            "type": "endpoint",
            "url": "http://commandhandler/handle?orderStatus=COMPLETED&event=done"
        }
    },
    "steps": {
        "start": {
            "started": "checkOrder"
        },
        "checkOrder": {
            "orderValid": "capturePayment"
        },
        "capturePayment": {
            "paymentCaptured": "prepareShipment"
        },
        "prepareShipment": {
            "shipmentPrepared": "ship"
        },
        "ship": {
            "shipped": "orderCompleted"
        },
        "error": "handleError"
    }
}